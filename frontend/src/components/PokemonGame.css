/* Pokemon-Style DSPy Game - Classic Pokemon Aesthetic */

@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

:root {
  /* Classic Pokemon GBC Palette */
  --poke-white: #f8f8f8;
  --poke-light: #c8c8c8;
  --poke-medium: #787878;
  --poke-dark: #383838;
  --poke-black: #101010;

  /* Pokemon Cave/Dungeon Colors */
  --cave-floor: #706860;
  --cave-floor-light: #888078;
  --cave-wall: #484040;
  --cave-wall-dark: #302828;
  --cave-wall-highlight: #585050;

  /* Pokemon UI Colors */
  --ui-bg: #f8f0e0;
  --ui-border: #383838;
  --ui-text: #383838;
  --ui-shadow: #a89888;

  /* Pokemon Blue/Red accent colors */
  --poke-blue: #3898f8;
  --poke-red: #f83800;
  --poke-gold: #f8b800;
  --poke-green: #00a800;

  /* Character colors */
  --player-skin: #f8b888;
  --player-hair: #583818;
  --player-clothes: #3898f8;
  --player-shoes: #f83800;

  --elder-robe: #7838b8;
  --elder-robe-light: #a878d8;
  --elder-beard: #e8e8e8;
}

/* ========================================
   BASE STYLES - Pokemon Aesthetic
   ======================================== */

.pokemon-game {
  width: 100vw;
  height: 100vh;
  background: #101010;
  font-family: 'Press Start 2P', monospace;
  overflow: hidden;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  position: relative;
  user-select: none;
}

/* Classic CRT/LCD Scanline overlay */
.pokemon-game::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(0, 0, 0, 0.15) 1px,
    rgba(0, 0, 0, 0.15) 2px
  );
  pointer-events: none;
  z-index: 9998;
}

/* ========================================
   OVERWORLD - Pokemon Cave Style
   ======================================== */

.overworld {
  width: 100%;
  height: 100%;
  position: relative;
  background: #101010;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Game Boy-style viewport border */
.dungeon-viewport {
  position: relative;
  padding: 8px;
  background: var(--poke-dark);
  border: 4px solid var(--poke-black);
  box-shadow:
    inset 0 0 0 2px var(--poke-medium),
    0 8px 0 var(--poke-black);
}

/* The dungeon map container */
.dungeon-map {
  position: relative;
  background: var(--cave-floor);
  border: 2px solid var(--poke-black);
  overflow: hidden;
}

/* ========================================
   DUNGEON TILES - Pokemon Cave Style
   ======================================== */

.dungeon-tile {
  position: absolute;
  box-sizing: border-box;
}

/* Floor tile - Cave ground pattern */
.dungeon-tile.tile-0 {
  background: var(--cave-floor);
}

/* Floor tile texture - subtle rocky pattern */
.dungeon-tile.tile-0::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle at 25% 25%, var(--cave-floor-light) 2px, transparent 2px),
    radial-gradient(circle at 75% 60%, var(--cave-floor-light) 1px, transparent 1px),
    radial-gradient(circle at 40% 80%, rgba(0,0,0,0.15) 2px, transparent 2px);
  background-size: 100% 100%;
}

/* Wall tile - Pokemon cave wall style */
.dungeon-tile.tile-1 {
  background: var(--cave-wall);
  border: 2px solid var(--cave-wall-dark);
  box-shadow:
    inset 2px 2px 0 var(--cave-wall-highlight),
    inset -2px -2px 0 var(--cave-wall-dark);
}

/* Wall brick pattern */
.dungeon-tile.tile-1::before {
  content: '';
  position: absolute;
  inset: 2px;
  background-image:
    linear-gradient(to bottom, var(--cave-wall-highlight) 1px, transparent 1px),
    linear-gradient(to right, var(--cave-wall-dark) 1px, transparent 1px);
  background-size: 16px 8px;
}

/* Wall top shadow */
.dungeon-tile.tile-1::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--cave-wall-dark);
}

/* Water/void tile */
.dungeon-tile.tile-2 {
  background: #284060;
  animation: water-anim 1s steps(2) infinite;
}

@keyframes water-anim {
  0%, 50% { background-color: #284060; }
  51%, 100% { background-color: #304868; }
}

.dungeon-tile.tile-2::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.1) 40%, rgba(255,255,255,0.1) 45%, transparent 45%),
    linear-gradient(135deg, transparent 60%, rgba(255,255,255,0.1) 60%, rgba(255,255,255,0.1) 65%, transparent 65%);
  animation: water-shine 1s steps(2) infinite;
}

@keyframes water-shine {
  0% { transform: translateX(0); }
  100% { transform: translateX(8px); }
}

/* Special floor tile - Altar/important area */
.dungeon-tile.tile-3 {
  background: #786860;
  border: 2px solid #605850;
}

.dungeon-tile.tile-3::before {
  content: '';
  position: absolute;
  inset: 4px;
  border: 2px dashed #a89880;
}

.dungeon-tile.tile-3::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 16px;
  height: 16px;
  background: radial-gradient(circle, #f8b800 0%, transparent 70%);
  animation: glow-pulse 2s ease-in-out infinite;
}

@keyframes glow-pulse {
  0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
  50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.5); }
}

/* ========================================
   PLAYER SPRITE - Classic Pokemon Style
   ======================================== */

.player {
  position: absolute;
  z-index: 100;
  transition: left 0.15s steps(4), top 0.15s steps(4);
}

/* Player sprite using CSS pixel art */
.player-sprite {
  width: 100%;
  height: 100%;
  position: relative;
  image-rendering: pixelated;
}

/* Replace emoji with pixel art character */
.player-sprite::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 32px;
  height: 44px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='44' viewBox='0 0 32 44'%3E%3C!-- Head --%3E%3Crect x='10' y='0' width='12' height='12' fill='%23f8b888'/%3E%3Crect x='8' y='2' width='4' height='8' fill='%23f8b888'/%3E%3Crect x='20' y='2' width='4' height='8' fill='%23f8b888'/%3E%3C!-- Hair --%3E%3Crect x='10' y='0' width='12' height='4' fill='%23583818'/%3E%3Crect x='8' y='2' width='4' height='4' fill='%23583818'/%3E%3Crect x='20' y='2' width='4' height='4' fill='%23583818'/%3E%3C!-- Eyes --%3E%3Crect x='12' y='6' width='2' height='2' fill='%23101010'/%3E%3Crect x='18' y='6' width='2' height='2' fill='%23101010'/%3E%3C!-- Body/Shirt --%3E%3Crect x='8' y='12' width='16' height='16' fill='%233898f8'/%3E%3Crect x='6' y='14' width='4' height='10' fill='%233898f8'/%3E%3Crect x='22' y='14' width='4' height='10' fill='%233898f8'/%3E%3C!-- Hands --%3E%3Crect x='4' y='22' width='4' height='4' fill='%23f8b888'/%3E%3Crect x='24' y='22' width='4' height='4' fill='%23f8b888'/%3E%3C!-- Pants --%3E%3Crect x='10' y='28' width='12' height='8' fill='%23383838'/%3E%3C!-- Shoes --%3E%3Crect x='8' y='36' width='6' height='6' fill='%23f83800'/%3E%3Crect x='18' y='36' width='6' height='6' fill='%23f83800'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* Player shadow */
.player::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 28px;
  height: 6px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 50%;
}

/* Walking animation */
.player.walking .player-sprite::before {
  animation: walk-anim 0.3s steps(2) infinite;
}

@keyframes walk-anim {
  0%, 50% { transform: translateX(-50%) translateY(0); }
  51%, 100% { transform: translateX(-50%) translateY(-2px); }
}

/* ========================================
   SACRED STONES (NPCs) - Pokemon NPC Style
   ======================================== */

.sacred-stone {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  z-index: 50;
}

/* Stone/NPC sprite using pixel art */
.stone-sprite {
  width: 40px;
  height: 48px;
  position: relative;
  image-rendering: pixelated;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0; /* Hide emoji */
}

/* Pixel art NPC base */
.stone-sprite::before {
  content: '';
  position: absolute;
  width: 36px;
  height: 44px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='44' viewBox='0 0 36 44'%3E%3C!-- Wizard Hat --%3E%3Cpolygon points='18,0 8,16 28,16' fill='%237838b8'/%3E%3Crect x='6' y='14' width='24' height='4' fill='%237838b8'/%3E%3C!-- Face --%3E%3Crect x='10' y='16' width='16' height='10' fill='%23f8b888'/%3E%3C!-- Eyes --%3E%3Crect x='12' y='18' width='3' height='3' fill='%23101010'/%3E%3Crect x='21' y='18' width='3' height='3' fill='%23101010'/%3E%3C!-- Beard --%3E%3Crect x='10' y='24' width='16' height='8' fill='%23e8e8e8'/%3E%3Crect x='14' y='32' width='8' height='4' fill='%23e8e8e8'/%3E%3C!-- Robe --%3E%3Crect x='6' y='26' width='24' height='14' fill='%237838b8'/%3E%3Crect x='4' y='28' width='4' height='10' fill='%23a878d8'/%3E%3Crect x='28' y='28' width='4' height='10' fill='%23a878d8'/%3E%3C!-- Staff --%3E%3Crect x='30' y='8' width='3' height='36' fill='%23785830'/%3E%3Ccircle cx='31' cy='6' r='4' fill='%23f8b800'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  animation: npc-idle 1s steps(2) infinite;
}

@keyframes npc-idle {
  0%, 50% { transform: translateY(0); }
  51%, 100% { transform: translateY(-1px); }
}

/* Stone pedestal */
.sacred-stone::after {
  content: '';
  position: absolute;
  bottom: 2px;
  width: 32px;
  height: 8px;
  background: var(--cave-wall-dark);
  border-radius: 2px;
  box-shadow: inset 0 -2px 0 rgba(0,0,0,0.3);
}

/* Consulted state - greyed out */
.sacred-stone.consulted .stone-sprite::before {
  filter: brightness(0.6) saturate(0.3);
}

.sacred-stone.consulted::before {
  content: 'âœ“';
  position: absolute;
  top: -8px;
  right: -4px;
  width: 16px;
  height: 16px;
  background: var(--poke-green);
  color: white;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border: 2px solid var(--poke-black);
  z-index: 10;
}

.stone-label {
  font-size: 6px;
  color: var(--poke-white);
  text-align: center;
  margin-top: 4px;
  background: rgba(0,0,0,0.7);
  padding: 2px 4px;
  border-radius: 2px;
  position: relative;
  z-index: 5;
}

/* Different colored wizards */
.sacred-stone[style*="color: rgb(96, 165, 250)"] .stone-sprite::before,
.sacred-stone[style*="color: #60a5fa"] .stone-sprite::before {
  filter: hue-rotate(-30deg);
}

.sacred-stone[style*="color: rgb(244, 114, 182)"] .stone-sprite::before,
.sacred-stone[style*="color: #f472b6"] .stone-sprite::before {
  filter: hue-rotate(120deg);
}

.sacred-stone[style*="color: rgb(251, 191, 36)"] .stone-sprite::before,
.sacred-stone[style*="color: #fbbf24"] .stone-sprite::before {
  filter: hue-rotate(-80deg) saturate(1.5);
}

/* ========================================
   ORACLE/TERMINAL - Pokemon Computer Style
   ======================================== */

.oracle-pedestal {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 50;
}

.oracle-sprite {
  width: 56px;
  height: 56px;
  position: relative;
  font-size: 0; /* Hide emoji */
}

/* Pokemon PC/Computer pixel art */
.oracle-sprite::before {
  content: '';
  position: absolute;
  width: 56px;
  height: 52px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='56' height='52' viewBox='0 0 56 52'%3E%3C!-- Monitor frame --%3E%3Crect x='4' y='0' width='48' height='36' fill='%23585858' rx='2'/%3E%3Crect x='6' y='2' width='44' height='32' fill='%23383838'/%3E%3C!-- Screen --%3E%3Crect x='8' y='4' width='40' height='28' fill='%23284060'/%3E%3C!-- Screen content --%3E%3Crect x='12' y='8' width='24' height='3' fill='%2300ff88'/%3E%3Crect x='12' y='14' width='32' height='2' fill='%2300ff88'/%3E%3Crect x='12' y='18' width='28' height='2' fill='%2300ff88'/%3E%3Crect x='12' y='22' width='20' height='2' fill='%2300ff88'/%3E%3Crect x='12' y='26' width='8' height='3' fill='%2300ff88'/%3E%3C!-- Power LED --%3E%3Ccircle cx='48' cy='32' r='2' fill='%2300ff00'/%3E%3C!-- Stand --%3E%3Crect x='22' y='36' width='12' height='4' fill='%23484848'/%3E%3Crect x='16' y='40' width='24' height='4' fill='%23383838'/%3E%3C!-- Keyboard --%3E%3Crect x='8' y='46' width='40' height='6' fill='%23484848' rx='1'/%3E%3Crect x='10' y='47' width='4' height='2' fill='%23383838'/%3E%3Crect x='16' y='47' width='4' height='2' fill='%23383838'/%3E%3Crect x='22' y='47' width='12' height='2' fill='%23383838'/%3E%3Crect x='36' y='47' width='4' height='2' fill='%23383838'/%3E%3Crect x='42' y='47' width='4' height='2' fill='%23383838'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* Computer screen animation */
.oracle-sprite::after {
  content: '';
  position: absolute;
  left: 8px;
  top: 4px;
  width: 40px;
  height: 28px;
  background: linear-gradient(transparent 0%, rgba(0,255,136,0.05) 50%, transparent 100%);
  animation: screen-scan 2s linear infinite;
}

@keyframes screen-scan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

.oracle-pedestal.ready .oracle-sprite::before {
  animation: pc-ready 0.5s steps(2) infinite;
}

@keyframes pc-ready {
  0%, 50% { filter: brightness(1); }
  51%, 100% { filter: brightness(1.2); }
}

.oracle-label {
  font-size: 7px;
  color: var(--poke-white);
  text-align: center;
  margin-top: 4px;
  background: rgba(0,0,0,0.8);
  padding: 3px 6px;
  border-radius: 2px;
}

.oracle-pedestal.ready .oracle-label {
  background: var(--poke-gold);
  color: var(--poke-black);
  animation: label-blink 0.5s steps(2) infinite;
}

@keyframes label-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.7; }
}

/* ========================================
   HUD - Pokemon Menu Style
   ======================================== */

.game-hud {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  padding: 12px;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  z-index: 200;
  pointer-events: none;
}

.game-hud > * {
  pointer-events: auto;
}

/* Pokemon-style quest box */
.quest-box {
  background: var(--ui-bg);
  border: 4px solid var(--ui-border);
  box-shadow:
    4px 4px 0 var(--poke-black),
    inset -4px -4px 0 var(--ui-shadow);
  padding: 12px 16px;
  min-width: 180px;
}

.quest-title {
  font-size: 8px;
  color: var(--ui-text);
  margin-bottom: 10px;
  padding-bottom: 6px;
  border-bottom: 2px solid var(--ui-border);
}

.wisdom-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.wisdom-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 7px;
  color: var(--ui-text);
}

.wisdom-icon {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  background: var(--ui-shadow);
  border-radius: 2px;
}

.wisdom-name {
  flex: 1;
}

.wisdom-item.collected .wisdom-name {
  text-decoration: line-through;
}

.wisdom-check {
  color: var(--poke-green);
  font-size: 10px;
  font-weight: bold;
}

/* Controls box */
.controls-box {
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  box-shadow: 3px 3px 0 var(--poke-black);
  padding: 6px 10px;
}

.controls-row {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 6px;
  color: var(--ui-text);
}

.key-badge {
  background: var(--ui-border);
  color: var(--ui-bg);
  padding: 2px 4px;
  font-size: 5px;
}

/* ========================================
   DIALOGUE BOX - Pokemon Text Box Style
   ======================================== */

.dialogue-container {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 16px;
  z-index: 300;
}

.dialogue-box {
  background: var(--ui-bg);
  border: 4px solid var(--ui-border);
  box-shadow:
    4px 4px 0 var(--poke-black),
    inset -4px -4px 0 var(--ui-shadow);
  padding: 4px;
  max-width: 800px;
  margin: 0 auto;
}

.dialogue-inner {
  border: 2px solid var(--ui-border);
  padding: 16px 20px;
  min-height: 100px;
  position: relative;
  background: var(--ui-bg);
}

.dialogue-speaker {
  position: absolute;
  top: -12px;
  left: 16px;
  background: var(--ui-bg);
  padding: 2px 8px;
  border: 3px solid var(--ui-border);
}

.speaker-name {
  font-size: 9px;
  color: var(--ui-text);
}

.dialogue-text {
  font-size: 11px;
  color: var(--ui-text);
  line-height: 2;
  margin-top: 8px;
}

.dialogue-cursor {
  display: inline-block;
  width: 8px;
  height: 14px;
  background: var(--ui-text);
  margin-left: 4px;
  animation: cursor-blink 0.4s steps(2) infinite;
}

@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.dialogue-continue {
  position: absolute;
  bottom: 8px;
  right: 16px;
  font-size: 8px;
  color: var(--ui-text);
  animation: arrow-bounce 0.5s steps(2) infinite;
}

.dialogue-continue::before {
  content: '';
}

@keyframes arrow-bounce {
  0%, 50% { transform: translateY(0); }
  51%, 100% { transform: translateY(-3px); }
}

/* ========================================
   BATTLE SCREEN - Pokemon Battle Style
   ======================================== */

.battle-screen {
  position: absolute;
  inset: 0;
  background: var(--poke-white);
  z-index: 500;
  display: flex;
  flex-direction: column;
}

.battle-transition {
  animation: battle-wipe 0.5s steps(8);
}

@keyframes battle-wipe {
  0% {
    clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
  }
  100% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

.battle-background {
  flex: 1;
  position: relative;
  background:
    linear-gradient(to bottom, #88c8e8 0%, #88c8e8 50%, #98d070 50%, #98d070 100%);
  overflow: hidden;
}

/* Pokemon-style battle ground */
.battle-arena {
  position: absolute;
  inset: 0;
}

.battle-arena::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 50%;
  background:
    repeating-linear-gradient(
      90deg,
      #78b858 0px,
      #78b858 16px,
      #98d070 16px,
      #98d070 32px
    );
}

/* Enemy platform */
.enemy-platform {
  position: absolute;
  top: 15%;
  right: 15%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.enemy-platform::before {
  content: '';
  position: absolute;
  bottom: -20px;
  width: 80px;
  height: 24px;
  background: #688850;
  border-radius: 50%;
}

.enemy-sprite {
  font-size: 0;
  width: 80px;
  height: 80px;
  position: relative;
}

/* Enemy wizard sprite */
.enemy-sprite::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3C!-- Large Wizard --%3E%3Cpolygon points='40,4 20,32 60,32' fill='%237838b8'/%3E%3Crect x='16' y='28' width='48' height='8' fill='%237838b8'/%3E%3Crect x='24' y='32' width='32' height='20' fill='%23f8b888'/%3E%3Crect x='28' y='38' width='6' height='6' fill='%23101010'/%3E%3Crect x='46' y='38' width='6' height='6' fill='%23101010'/%3E%3Crect x='24' y='48' width='32' height='16' fill='%23e8e8e8'/%3E%3Crect x='32' y='64' width='16' height='8' fill='%23e8e8e8'/%3E%3Crect x='16' y='52' width='48' height='24' fill='%237838b8'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  animation: enemy-idle 1s steps(2) infinite;
}

@keyframes enemy-idle {
  0%, 50% { transform: translateY(0); }
  51%, 100% { transform: translateY(-2px); }
}

.enemy-name-box {
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  box-shadow: 3px 3px 0 var(--poke-black);
  padding: 8px 16px;
  margin-top: 16px;
  text-align: center;
}

.enemy-name {
  font-size: 10px;
  color: var(--ui-text);
}

.enemy-subtitle {
  font-size: 7px;
  color: var(--poke-medium);
  margin-top: 4px;
}

/* Player platform */
.player-platform {
  position: absolute;
  bottom: 25%;
  left: 10%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.player-platform::before {
  content: '';
  position: absolute;
  bottom: -16px;
  width: 100px;
  height: 28px;
  background: #688850;
  border-radius: 50%;
}

.player-battle-sprite {
  font-size: 0;
  width: 64px;
  height: 64px;
  position: relative;
}

/* Player back sprite */
.player-battle-sprite::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'%3E%3C!-- Player back view --%3E%3Crect x='20' y='4' width='24' height='20' fill='%23583818'/%3E%3Crect x='16' y='20' width='32' height='28' fill='%233898f8'/%3E%3Crect x='12' y='24' width='8' height='16' fill='%233898f8'/%3E%3Crect x='44' y='24' width='8' height='16' fill='%233898f8'/%3E%3Crect x='20' y='48' width='24' height='12' fill='%23383838'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

.player-name-box {
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  box-shadow: 3px 3px 0 var(--poke-black);
  padding: 8px 16px;
  margin-top: 12px;
}

.player-name {
  font-size: 10px;
  color: var(--poke-blue);
}

/* Battle dialogue */
.battle-dialogue {
  background: var(--ui-bg);
  border-top: 4px solid var(--ui-border);
  padding: 16px;
}

.battle-dialogue-box {
  max-width: 800px;
  margin: 0 auto;
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  padding: 16px 20px;
  min-height: 80px;
  position: relative;
}

.battle-dialogue-text {
  font-size: 11px;
  color: var(--ui-text);
  line-height: 2;
}

/* ========================================
   INPUT SCREEN - Pokemon Menu Style
   ======================================== */

.input-screen {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  z-index: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.input-box {
  background: var(--ui-bg);
  border: 4px solid var(--ui-border);
  box-shadow: 6px 6px 0 var(--poke-black);
  padding: 20px;
  max-width: 500px;
  width: 100%;
}

.input-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 3px solid var(--ui-border);
}

.input-icon {
  font-size: 32px;
}

.input-title {
  font-size: 12px;
  color: var(--ui-text);
}

.input-subtitle {
  font-size: 8px;
  color: var(--poke-medium);
  margin-top: 4px;
}

.input-inscription {
  background: var(--poke-light);
  border: 2px solid var(--ui-border);
  padding: 12px;
  margin-bottom: 16px;
  font-size: 8px;
  color: var(--ui-text);
  line-height: 2;
}

.input-field {
  width: 100%;
  background: var(--poke-white);
  border: 3px solid var(--ui-border);
  padding: 12px;
  font-family: 'Press Start 2P', monospace;
  font-size: 9px;
  color: var(--ui-text);
  resize: none;
  min-height: 100px;
  outline: none;
}

.input-field:focus {
  border-color: var(--poke-blue);
}

.input-field::placeholder {
  color: var(--poke-medium);
}

.input-actions {
  display: flex;
  gap: 12px;
  margin-top: 16px;
  justify-content: flex-end;
}

.input-btn {
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  box-shadow: 3px 3px 0 var(--poke-black);
  padding: 10px 20px;
  font-family: 'Press Start 2P', monospace;
  font-size: 9px;
  color: var(--ui-text);
  cursor: pointer;
  transition: transform 0.1s;
}

.input-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 var(--poke-black);
}

.input-btn:active {
  transform: translate(2px, 2px);
  box-shadow: 1px 1px 0 var(--poke-black);
}

.input-btn.primary {
  background: var(--poke-blue);
  color: var(--poke-white);
}

.input-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ========================================
   OPTIMIZATION BATTLE - Pokemon Battle Style
   ======================================== */

.optimization-battle {
  position: absolute;
  inset: 0;
  background: var(--poke-white);
  z-index: 500;
  display: flex;
  flex-direction: column;
}

.opt-battle-arena {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 30px;
  background:
    linear-gradient(to bottom, #a8d8f0 0%, #a8d8f0 40%, #c8e8b8 40%, #c8e8b8 100%);
}

.opt-contestants {
  display: flex;
  gap: 16px;
  max-width: 1000px;
  width: 100%;
}

.opt-contestant {
  flex: 1;
  background: var(--ui-bg);
  border: 4px solid var(--ui-border);
  box-shadow: 4px 4px 0 var(--poke-black);
  padding: 16px;
  position: relative;
}

.opt-contestant.active {
  border-color: var(--poke-blue);
  animation: contestant-active 0.5s steps(2) infinite;
}

@keyframes contestant-active {
  0%, 50% { box-shadow: 4px 4px 0 var(--poke-black); }
  51%, 100% { box-shadow: 4px 4px 0 var(--poke-blue); }
}

.opt-contestant.winner {
  border-color: var(--poke-gold);
  box-shadow: 4px 4px 0 var(--poke-gold);
}

.opt-contestant-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.opt-contestant-icon {
  font-size: 24px;
}

.opt-contestant-name {
  font-size: 9px;
  color: var(--ui-text);
}

.opt-contestant-subtitle {
  font-size: 6px;
  color: var(--poke-medium);
  margin-top: 2px;
}

.opt-progress-bar {
  height: 12px;
  background: var(--poke-light);
  border: 2px solid var(--ui-border);
  margin-bottom: 10px;
}

.opt-progress-fill {
  height: 100%;
  background: var(--poke-green);
  transition: width 0.3s steps(8);
}

.opt-status {
  font-size: 7px;
  color: var(--ui-text);
  display: flex;
  align-items: center;
  gap: 6px;
}

.opt-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  animation: status-blink 0.3s steps(2) infinite;
}

@keyframes status-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}

.opt-score {
  position: absolute;
  top: 10px;
  right: 10px;
  background: var(--poke-gold);
  color: var(--poke-black);
  padding: 6px 10px;
  font-size: 12px;
  border: 2px solid var(--poke-black);
}

.opt-crown {
  position: absolute;
  top: -16px;
  right: -8px;
  font-size: 28px;
  animation: crown-anim 0.5s steps(2) infinite;
}

@keyframes crown-anim {
  0%, 50% { transform: rotate(-5deg); }
  51%, 100% { transform: rotate(5deg); }
}

.opt-output-preview {
  margin-top: 10px;
  padding: 8px;
  background: var(--poke-light);
  border: 2px solid var(--ui-border);
  font-size: 6px;
  color: var(--ui-text);
  line-height: 1.8;
  max-height: 60px;
  overflow: hidden;
}

/* ========================================
   TITLE SCREEN - Pokemon Title Style
   ======================================== */

.title-screen {
  position: absolute;
  inset: 0;
  background: #1878c8;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Animated background pattern */
.title-screen::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle at 30% 20%, rgba(255,255,255,0.1) 0%, transparent 20%),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,0.1) 0%, transparent 15%),
    radial-gradient(circle at 20% 80%, rgba(255,255,255,0.05) 0%, transparent 25%);
  animation: bg-shift 4s steps(4) infinite;
}

@keyframes bg-shift {
  0%, 25% { opacity: 1; }
  26%, 50% { opacity: 0.8; }
  51%, 75% { opacity: 1; }
  76%, 100% { opacity: 0.9; }
}

.title-logo {
  font-size: 48px;
  margin-bottom: 16px;
  position: relative;
  z-index: 1;
  filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.5));
  animation: logo-pulse 1s steps(2) infinite;
}

@keyframes logo-pulse {
  0%, 50% { transform: scale(1); }
  51%, 100% { transform: scale(1.05); }
}

.title-text {
  font-size: 28px;
  color: var(--poke-gold);
  text-shadow:
    4px 4px 0 var(--poke-black),
    -2px -2px 0 #fff8;
  margin-bottom: 8px;
  letter-spacing: 4px;
  position: relative;
  z-index: 1;
}

.title-subtitle {
  font-size: 10px;
  color: var(--poke-white);
  text-shadow: 2px 2px 0 var(--poke-black);
  margin-bottom: 48px;
  position: relative;
  z-index: 1;
}

.title-prompt {
  font-size: 11px;
  color: var(--poke-white);
  text-shadow: 2px 2px 0 var(--poke-black);
  animation: prompt-flash 0.8s steps(2) infinite;
  position: relative;
  z-index: 1;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 12px 24px;
}

.title-prompt:hover {
  color: var(--poke-gold);
}

@keyframes prompt-flash {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}

/* ========================================
   RESULTS SCREEN - Pokemon Victory Style
   ======================================== */

.results-screen {
  position: absolute;
  inset: 0;
  background: #f8f0e0;
  z-index: 700;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 32px;
  overflow-y: auto;
}

.results-header {
  text-align: center;
  margin-bottom: 32px;
}

.results-crown {
  font-size: 56px;
  margin-bottom: 16px;
  animation: victory-crown 1s steps(4) infinite;
  filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.3));
}

@keyframes victory-crown {
  0%, 25% { transform: rotate(-5deg); }
  26%, 50% { transform: rotate(5deg); }
  51%, 75% { transform: rotate(-5deg); }
  76%, 100% { transform: rotate(5deg); }
}

.results-title {
  font-size: 24px;
  color: var(--poke-gold);
  text-shadow: 3px 3px 0 var(--poke-black);
  margin-bottom: 8px;
}

.results-subtitle {
  font-size: 9px;
  color: var(--ui-text);
}

.results-winner {
  background: var(--ui-bg);
  border: 4px solid var(--poke-gold);
  box-shadow: 6px 6px 0 var(--poke-black);
  padding: 20px;
  max-width: 500px;
  width: 100%;
  margin-bottom: 24px;
}

.winner-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 3px solid var(--poke-gold);
}

.winner-icon {
  font-size: 40px;
}

.winner-name {
  font-size: 12px;
  color: var(--poke-gold);
}

.winner-score {
  font-size: 9px;
  color: var(--ui-text);
  margin-top: 4px;
}

.winner-output {
  background: var(--poke-light);
  border: 2px solid var(--ui-border);
  padding: 12px;
  font-size: 8px;
  color: var(--ui-text);
  line-height: 2;
}

.results-others {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  max-width: 500px;
  width: 100%;
  margin-bottom: 32px;
}

.other-result {
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  box-shadow: 3px 3px 0 var(--poke-black);
  padding: 12px;
}

.other-header {
  display: flex;
  align-items: center;
  gap: 10px;
}

.other-icon {
  font-size: 20px;
}

.other-name {
  font-size: 8px;
  color: var(--ui-text);
}

.other-score {
  font-size: 11px;
  color: var(--poke-medium);
  margin-top: 2px;
}

.results-actions {
  display: flex;
  gap: 16px;
}

.results-btn {
  background: var(--ui-bg);
  border: 3px solid var(--ui-border);
  box-shadow: 4px 4px 0 var(--poke-black);
  padding: 12px 24px;
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  color: var(--ui-text);
  cursor: pointer;
  transition: transform 0.1s;
}

.results-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 var(--poke-black);
}

.results-btn:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 var(--poke-black);
}

/* ========================================
   AMBIENT PARTICLES
   ======================================== */

.ambient-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--poke-white);
  opacity: 0.5;
  animation: particle-fall 3s linear infinite;
}

@keyframes particle-fall {
  0% { transform: translateY(-10px); opacity: 0; }
  10% { opacity: 0.5; }
  90% { opacity: 0.5; }
  100% { transform: translateY(100vh); opacity: 0; }
}

/* ========================================
   SCREEN FLASH EFFECT
   ======================================== */

.screen-flash {
  position: absolute;
  inset: 0;
  background: white;
  pointer-events: none;
  animation: flash-anim 0.3s steps(4) forwards;
  z-index: 9999;
}

@keyframes flash-anim {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */

@media (max-width: 768px) {
  .title-text {
    font-size: 18px;
  }

  .opt-contestants {
    flex-direction: column;
  }

  .results-others {
    grid-template-columns: 1fr;
  }

  .dungeon-viewport {
    transform: scale(0.8);
  }
}
